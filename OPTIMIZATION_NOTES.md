# Комплексное решение проблемы с фоновыми изображениями и панелью Dock на мобильных и десктопных устройствах

## Проблемы
1. На мобильных устройствах при скроллинге фоновые изображения "дрожат" и "подпрыгивают", появляется "бреж" из-за того, что фон подпрыгивает выше при скроллинге.
2. На мобильных устройствах панель Dock скрывалась при фокусе на поле поиска, хотя должна была оставаться видимой.
3. Отсутствовала дифференцированная реализация док-панели для разных типов устройств.

## Причины
1. Использование `background-attachment: fixed` на мобильных устройствах
2. Высокая нагрузка на GPU при одновременной прорисовке фона и других элементов
3. Отсутствие оптимизаций для аппаратного ускорения
4. Логика скрытия панели Dock при фокусе на поле поиска не учитывала тип устройства
5. Общий компонент док-панели не учитывал различия между мобильными и десктопными интерфейсами

## Решения

### Комплексный подход к оптимизации фона
- Для всех устройств добавлены оптимизации для GPU: `transform: translateZ(0)`, `will-change: transform`, `contain: paint`
- Для мобильных устройств (ширина до 768px) используем `background-attachment: scroll` вместо `fixed`
- Добавлены дополнительные оптимизации для мобильных: `backface-visibility: hidden`, `perspective: 1000px`
- Для iOS Safari дополнительно применяем правило через `@supports (-webkit-touch-callout: none)`

### Разделение панели Dock для мобильных и десктопных устройств
- Созданы отдельные компоненты: `MobileDock.js` для мобильных устройств и `DesktopDock.js` для десктопных
- Удален старый общий компонент `DockBar.js`
- Мобильная версия сохраняет текущее поведение с фиксацией внизу экрана
- Десктопная версия реализована в стиле macOS с эффектом увеличения при наведении
- В компоненте `SearchInput.js` добавлена проверка на мобильное устройство
- На мобильных устройствах панель Dock не скрывается при фокусе на поле поиска
- Панель Dock всегда остается видимой на мобильных устройствах, если выбран макет "dock"

Эти изменения позволяют стабилизировать отображение фона на мобильных устройствах, избегая визуальных артефактов при скроллинге, но при этом сохраняя видимость фона и панели Dock. Также обеспечивается адекватный пользовательский интерфейс для каждого типа устройства.

## Итог
Проблемы решены комплексным подходом, включающим изменение типа прикрепления фона и добавление оптимизаций для стабилизации отображения, а также разделение компонента док-панели для мобильных и десктопных устройств, что позволяет избежать "дрожания" и "брежа" при скроллинге, но при этом сохранить видимость фона и панели навигации с учетом особенностей каждого типа устройства.