# Комплексное решение проблемы с фоновыми изображениями и панелью Dock на мобильных устройствах

## Проблемы
1. На мобильных устройствах при скроллинге фоновые изображения "дрожат" и "подпрыгивают", появляется "бреж" из-за того, что фон подпрыгивает выше при скроллинге.
2. На мобильных устройствах панель Dock скрывалась при фокусе на поле поиска, хотя должна была оставаться видимой.

## Причины
1. Использование `background-attachment: fixed` на мобильных устройствах
2. Высокая нагрузка на GPU при одновременной прорисовке фона и других элементов
3. Отсутствие оптимизаций для аппаратного ускорения
4. Логика скрытия панели Dock при фокусе на поле поиска не учитывала тип устройства

## Решения

### Комплексный подход к оптимизации фона
- Для всех устройств добавлены оптимизации для GPU: `transform: translateZ(0)`, `will-change: transform`, `contain: paint`
- Для мобильных устройств (ширина до 768px) используем `background-attachment: scroll` вместо `fixed`
- Добавлены дополнительные оптимизации для мобильных: `backface-visibility: hidden`, `perspective: 1000px`
- Для iOS Safari дополнительно применяем правило через `@supports (-webkit-touch-callout: none)`

### Постоянное отображение панели Dock на мобильных устройствах
- В компоненте `SearchInput.js` добавлена проверка на мобильное устройство
- На мобильных устройствах панель Dock не скрывается при фокусе на поле поиска
- Панель Dock всегда остается видимой на мобильных устройствах, если выбран макет "dock"

Эти изменения позволяют стабилизировать отображение фона на мобильных устройствах, избегая визуальных артефактов при скроллинге, но при этом сохраняя видимость фона и панели Dock.

## Итог
Проблемы решены комплексным подходом, включающим изменение типа прикрепления фона и добавление оптимизаций для стабилизации отображения, а также изменение логики отображения панели Dock, что позволяет избежать "дрожания" и "брежа" при скроллинге, но при этом сохранить видимость фона и панели навигации.